import numpy as np
from scipy.interpolate import interp1d

#Curva de calor de hidratacion en el tiempo (ingresar t en segundos), entrega el calor de 
#hidratacion en kJ/m^3*s considerando una dosificacion DC en kg de cemento por m^3 
#DC por default se considera 360 kg/m^3
def Calor_de_hidratacion(t,DC = 360.):		#[tiempo, Dosificacion cemento en kg/m^3]
	#datos registrados por ensayo semi-adiabatico de Langavant

	x = [0, 130, 250, 400, 540, 720, 900, 1100, 1300, 1500, 1800, 3600, 5400, 7200, 9000, 10800, 14400, 18000, 21500, 25200, 28000, 32400, 36000, 39600, 43200, 46800, 50000, 54000, 61200, 72000, 79200, 86400, 100800, 111600, 122400, 133200, 144000, 180000, 216000, 234000, 259200, 288000, 324000, 360000, 432000, 468000, 504000, 540000, 604800, 648000, 684000, 720000, 756000, 792000, 828000, 864000, 900000, 936000, 972000, 1008000, 1044000, 1080000, 1116000, 1152000, 1188000, 1224000]
	y = [0.0, 0.019230769, 0.016666667, 0.013333333, 0.010714286, 0.009444444, 0.007222222, 0.006, 0.005150000, 0.00385, 0.003, 0.001444444, 0.001055556, 0.000722222, 0.000833333, 0.001111111, 0.002166667, 0.003472222, 0.005285714, 0.006756757, 0.007142857, 0.007272727, 0.006944444, 0.006250000, 0.005277778, 0.004027778, 0.003281250, 0.0025, 0.001875, 0.001111111, 0.000833333, 0.000694444, 0.000416667, 0.000296296, 0.000194444, 0.000111111, 0.000064815, 0.000027778, 0.000013889, 0.000027778, 0.000031746, 0.000031250, 0.000038889, 0.000061111, 0.000076389, 0.000072222, 0.000066667, 0.000055556, 0.000046296, 0.000023148, 0.000019444, 0.000030556, 0.000033333, 0.000041667, 0.000033333, 0.000030556, 0.000033333, 0.000041667, 0.000033333, 0.000030556, 0.000033333, 0.000041667, 0.000033333, 0.000030556, 0.000033333, 0.000041667]
	
	q = interp1d(x,y)


	return q(t)*DC

# ejemplo de uso (graficar las primeras 3 horas)
#from matplotlib.pylab import * 
#t = linspace(0, 3600*3, 200)
#q = Calor_de_hidratacion(t)
#plot(t, q)
#ylabel("Calor de hidratacion, $q(t)$ (kJ/m^3*s)")
#xlabel("Tiempo, $t$ (s)")
#show()